<div class="hero">
    <app-navbar></app-navbar>
    <div class="titulo" *ngIf="driverSelected | async as piloto">
        <h1>{{piloto.givenName}} {{piloto.familyName}}</h1>
    </div>
</div>
<div class="contenedor">
    <div class="header" *ngIf="driverSelected | async as piloto">
        <h1 class="circuit-name">{{piloto.givenName}} {{piloto.familyName}}</h1>
        <img *ngIf="driverImage | async as imagen else noImage" class="circuit-image" src="{{imagen}}">
        <ng-template #noImage>
            <img class="circuit-image" src="../../../assets/images/image_placeholder.png" alt="">
        </ng-template>

        <div class="country" *ngIf="piloto.birthPlace">
            <img class="flag" src="https://www.countryflags.io/{{piloto.countryCode}}/shiny/64.png">
            <div class="name"> {{piloto.birthPlace}}</div>
        </div>
        <div *ngIf="driverInfo | async as info else noInfo" class="description">
            <p>{{info}}</p>
        </div>
        <ng-template #noInfo>
            <div class="description">
                <p>No tenemos una descripción detallada de este piloto</p>
            </div>
        </ng-template>
        <div class="extended-description">
            <p>{{extendedInfo}}</p>
        </div>
    </div>

    <div class="box">
        <div class="titulo">Estadísticas</div>
        <div class="chart box-presets">
            <div class="record">
                <div class="record-name">Victorias</div>
                <div class="value">{{winsCount | async}} <span>({{winPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Podiums</div>
                <div class="value">{{polesCount | async}} <span>({{polesPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Pole Positions</div>
                <div class="value">{{seasonCount | async }}</div>
            </div>
            <div class="record">
                <div class="record-name">Campeonatos</div>
                <div class="value">{{racesCount | async}}</div>
            </div>
            <div class="record">
                <div class="record-name">Mejor resultado</div>
                <div class="value">{{driverChampionshipsCount | async}}
                    <span>({{driverChampionshipPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Temporadas</div>
                <div class="value">{{constructorChampionshipsCount | async}}
                    <span>({{constructorChampionshipsPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Carreras</div>
                <div class="value">{{constructorChampionshipsCount | async}}
                    <span>({{constructorChampionshipsPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Puntos conseguidos</div>
                <div class="value">{{constructorChampionshipsCount | async}}
                    <span>({{constructorChampionshipsPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Vueltas corridas</div>
                <div class="value">{{constructorChampionshipsCount | async}}
                    <span>({{constructorChampionshipsPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Vueltas lideradas</div>
                <div class="value">{{constructorChampionshipsCount | async}}
                    <span>({{constructorChampionshipsPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Vueltas rápidas</div>
                <div class="value">{{constructorChampionshipsCount | async}}
                    <span>({{constructorChampionshipsPercentage | async}}%)</span></div>
            </div>
            <div class="record">
                <div class="record-name">Retiradas</div>
                <div class="value">{{constructorChampionshipsCount | async}}
                    <span>({{constructorChampionshipsPercentage | async}}%)</span></div>
            </div>
        </div>
    </div>
</div>